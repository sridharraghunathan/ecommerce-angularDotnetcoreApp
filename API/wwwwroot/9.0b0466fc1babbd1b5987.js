(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"6ANv":function(t,e,n){"use strict";n.r(e),n.d(e,"ShopModule",(function(){return X}));var c=n("ofXK"),r=n("PCNd"),i=n("tyNb");class s{constructor(){this.brandId=0,this.typeId=0,this.sort="name",this.pageIndex=1,this.pageSize=6}}var o=n("fXoL"),a=n("tk/3"),p=n("lJxs");let b=(()=>{class t{constructor(t){this.http=t,this.baseUrl="https://localhost:5001/api/"}getProducts(t){let e=new a.e;return t.brandId&&(e=e.append("brandId",t.brandId.toString())),t.typeId&&(e=e.append("typeId",t.typeId.toString())),e=e.append("sort",t.sort),e=e.append("pageSize",t.pageSize.toString()),e=e.append("pageIndex",t.pageIndex.toString()),t.search&&(e=e.append("search",t.search.toString())),this.http.get(this.baseUrl+"products",{params:e,observe:"response"}).pipe(Object(p.a)(t=>t.body))}getProduct(t){return this.http.get(this.baseUrl+"products/"+t)}getBrands(){return this.http.get(this.baseUrl+"products/brands")}getTypes(){return this.http.get(this.baseUrl+"products/types")}}return t.\u0275fac=function(e){return new(e||t)(o.Ub(a.b))},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=n("3Pt+");function d(t,e){if(1&t&&(o.Qb(0,"header"),o.Qb(1,"span"),o.yc(2,"showing "),o.Qb(3,"strong"),o.yc(4),o.Pb(),o.yc(5," of "),o.Qb(6,"strong"),o.yc(7),o.Pb(),o.yc(8," Results"),o.Pb(),o.Pb()),2&t){const t=o.Zb();o.zb(4),o.Bc(" ",(t.pageIndex-1)*t.pageSize+1," - ",t.pageIndex*t.pageSize>t.count?t.count:t.pageIndex*t.pageSize," "),o.zb(3),o.Ac(" ",t.count," ")}}function g(t,e){1&t&&(o.Qb(0,"span"),o.yc(1,"No Matching records for the filter"),o.Pb())}let l=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Eb({type:t,selectors:[["app-pagination-header"]],inputs:{pageIndex:"pageIndex",pageSize:"pageSize",count:"count"},decls:2,vars:2,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(o.wc(0,d,9,3,"header",0),o.wc(1,g,2,0,"span",0)),2&t&&(o.fc("ngIf",e.count&&e.count>0),o.zb(1),o.fc("ngIf",0===e.count))},directives:[c.m],styles:[""]}),t})();var h=n("Lm2G");let f=(()=>{class t{constructor(){this.pageChanged=new o.n}ngOnInit(){}onPagerChanged(t){this.pageChanged.emit(t.page)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Eb({type:t,selectors:[["app-pager"]],inputs:{pageSize:"pageSize",count:"count"},outputs:{pageChanged:"pageChanged"},decls:1,vars:3,consts:[["previousText","\u2039","nextText","\u203a","firstText","\xab","lastText","\xbb",3,"boundaryLinks","totalItems","itemsPerPage","pageChanged"]],template:function(t,e){1&t&&(o.Qb(0,"pagination",0),o.Xb("pageChanged",(function(t){return e.onPagerChanged(t)})),o.Pb()),2&t&&o.fc("boundaryLinks",!0)("totalItems",e.count)("itemsPerPage",e.pageSize)},directives:[h.a],styles:[""]}),t})();var m=n("cAP4");let P=(()=>{class t{constructor(t){this.basketService=t}ngOnInit(){}AddToCart(){this.basketService.AddItemToBasket(this.product)}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(m.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-product-item"]],inputs:{product:"product"},decls:14,vars:8,consts:[[1,"card","h-100","shadow-sm"],[1,"image","position-relative"],[1,"img-fl","bg-info",3,"src","alt"],[1,"d-flex","align-items-center","justify-content-center","hover-overlay"],["type","button",1,"btn","btn-primary","mr-2","fa","fa-shopping-cart",3,"click"],["type","button",1,"btn","btn-primary",3,"routerLink"],[1,"card-body","d-flex","flex-column"],[3,"routerLink"],[1,"mb-2"]],template:function(t,e){1&t&&(o.Qb(0,"div",0),o.Qb(1,"div",1),o.Lb(2,"img",2),o.Qb(3,"div",3),o.Qb(4,"button",4),o.Xb("click",(function(){return e.AddToCart()})),o.Pb(),o.Qb(5,"button",5),o.yc(6,"view"),o.Pb(),o.Pb(),o.Pb(),o.Qb(7,"div",6),o.Qb(8,"a",7),o.Qb(9,"h6"),o.yc(10),o.Pb(),o.Pb(),o.Qb(11,"span",8),o.yc(12),o.ac(13,"currency"),o.Pb(),o.Pb(),o.Pb()),2&t&&(o.zb(2),o.gc("src",e.product.pictureUrl,o.rc),o.gc("alt",e.product.name),o.zb(3),o.hc("routerLink","/shop/",e.product.id,""),o.zb(3),o.hc("routerLink","/shop/",e.product.id,""),o.zb(2),o.zc(e.product.name),o.zb(2),o.zc(o.bc(13,6,e.product.price)))},directives:[i.d,i.f],pipes:[c.d],styles:[".img-fl[_ngcontent-%COMP%]{height:10rem;width:100%}.btn[_ngcontent-%COMP%]{width:30%;height:40px}.image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{opacity:1}.image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{opacity:1;z-index:10;transform:translate(0)}.hover-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;opacity:0;background-color:hsla(0,0%,100%,.5);width:100%;height:100%}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .5s}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{transform:translateX(-20px)}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{transform:translateX(20px)}"]}),t})();const y=["search"];function v(t,e){if(1&t&&(o.Qb(0,"option",11),o.yc(1),o.Pb()),2&t){const t=e.$implicit;o.fc("value",t.value),o.zb(1),o.zc(t.name)}}const z=function(t){return{active:t}};function I(t,e){if(1&t){const t=o.Rb();o.Qb(0,"li",12),o.Xb("click",(function(){o.pc(t);const n=e.$implicit;return o.Zb(2).onBrandIdSelected(n.id)})),o.yc(1),o.Pb()}if(2&t){const t=e.$implicit,n=o.Zb(2);o.fc("ngClass",o.jc(3,z,n.shopParams.brandId===t.id))("value",t.id),o.zb(1),o.zc(t.name)}}function Q(t,e){if(1&t){const t=o.Rb();o.Qb(0,"li",12),o.Xb("click",(function(){o.pc(t);const n=e.$implicit;return o.Zb(2).onTypeIdSelected(n.id)})),o.yc(1),o.Pb()}if(2&t){const t=e.$implicit,n=o.Zb(2);o.fc("ngClass",o.jc(3,z,n.shopParams.typeId===t.id))("value",t.id),o.zb(1),o.zc(t.name)}}function S(t,e){if(1&t){const t=o.Rb();o.Ob(0),o.Qb(1,"h5",5),o.yc(2,"Sort"),o.Pb(),o.Qb(3,"select",6),o.Xb("change",(function(e){return o.pc(t),o.Zb().onSortSelected(e.target.value)})),o.wc(4,v,2,2,"option",7),o.Pb(),o.Qb(5,"h5",5),o.yc(6,"Brand"),o.Pb(),o.Qb(7,"ul",8),o.wc(8,I,2,5,"li",9),o.Pb(),o.Qb(9,"h5",10),o.yc(10,"Type"),o.Pb(),o.Qb(11,"ul",8),o.wc(12,Q,2,5,"li",9),o.Pb(),o.Nb()}if(2&t){const t=o.Zb();o.zb(4),o.fc("ngForOf",t.sortOptions),o.zb(4),o.fc("ngForOf",t.brands),o.zb(4),o.fc("ngForOf",t.types)}}function w(t,e){if(1&t&&(o.Qb(0,"div",24),o.Lb(1,"app-product-item",25),o.Pb()),2&t){const t=e.$implicit;o.zb(1),o.fc("product",t)}}function x(t,e){if(1&t){const t=o.Rb();o.Ob(0),o.Qb(1,"div",13),o.Lb(2,"app-pagination-header",14),o.Qb(3,"div",15),o.Qb(4,"input",16,17),o.Xb("keyup.enter",(function(){return o.pc(t),o.Zb().onSearch()})),o.Pb(),o.Qb(6,"button",18),o.Xb("click",(function(){return o.pc(t),o.Zb().onSearch()})),o.yc(7,"Search"),o.Pb(),o.Qb(8,"button",19),o.Xb("click",(function(){return o.pc(t),o.Zb().onReset()})),o.yc(9,"Reset"),o.Pb(),o.Pb(),o.Pb(),o.Qb(10,"div",20),o.wc(11,w,2,1,"div",21),o.Pb(),o.Qb(12,"div",22),o.Qb(13,"app-pager",23),o.Xb("pageChanged",(function(e){return o.pc(t),o.Zb().onPageChanged(e)})),o.Pb(),o.Pb(),o.Nb()}if(2&t){const t=o.Zb();o.zb(2),o.fc("pageSize",t.shopParams.pageSize)("pageIndex",t.shopParams.pageIndex)("count",t.count),o.zb(9),o.fc("ngForOf",t.products),o.zb(2),o.fc("pageSize",t.shopParams.pageSize)("count",t.count)}}let k=(()=>{class t{constructor(t){this.shopService=t,this.shopParams=new s,this.sortOptions=[{name:"Alphabetical",value:"name"},{name:"Price Low to High",value:"priceAsc"},{name:"Price High to Low",value:"priceDesc"}]}ngOnInit(){this.getProducts(),this.getBrands(),this.getTypes()}getProducts(){this.shopService.getProducts(this.shopParams).subscribe(t=>{this.products=t.data,this.count=t.count,this.shopParams.pageIndex=t.pageIndex,this.shopParams.pageSize=t.pageSize})}getBrands(){this.shopService.getBrands().subscribe(t=>{this.brands=[{id:0,name:"All"},...t]})}getTypes(){this.shopService.getTypes().subscribe(t=>{this.types=[{id:0,name:"All"},...t]})}onBrandIdSelected(t){this.shopParams.brandId=t,this.shopParams.pageIndex=1,this.getProducts()}onTypeIdSelected(t){this.shopParams.typeId=t,this.shopParams.pageIndex=1,this.getProducts()}onSortSelected(t){this.shopParams.sort=t,this.getProducts()}onPageChanged(t){this.shopParams.pageIndex!==t&&(this.shopParams.pageIndex=t,this.getProducts())}onSearch(){this.shopParams.search=this.searchTerm.nativeElement.value,this.shopParams.pageIndex=1,this.getProducts()}onReset(){this.searchTerm.nativeElement.value="",this.shopParams=new s,this.getProducts()}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(b))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-shop"]],viewQuery:function(t,e){var n;1&t&&o.Cc(y,!0),2&t&&o.nc(n=o.Yb())&&(e.searchTerm=n.first)},decls:6,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-3"],[4,"ngIf"],[1,"col-9"],[1,"text-warning","ml-3","my-2"],[1,"custom-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"list-group","my-2"],["class","list-group-item",3,"ngClass","value","click",4,"ngFor","ngForOf"],[1,"text-warning","ml-3"],[3,"value"],[1,"list-group-item",3,"ngClass","value","click"],[1,"d-flex","justify-content-between","align-items-center","my-2"],[3,"pageSize","pageIndex","count"],[1,"form-inline"],["placeholder","search","type","text",1,"form-control","mr-2",3,"keyup.enter"],["search",""],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-success","ml-2",3,"click"],[1,"row","mb-5"],["class","col-4 mt-2 mb-1",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"pageSize","count","pageChanged"],[1,"col-4","mt-2","mb-1"],[3,"product"]],template:function(t,e){1&t&&(o.Qb(0,"div",0),o.Qb(1,"div",1),o.Qb(2,"section",2),o.wc(3,S,13,3,"ng-container",3),o.Pb(),o.Qb(4,"section",4),o.wc(5,x,14,6,"ng-container",3),o.Pb(),o.Pb(),o.Pb()),2&t&&(o.zb(3),o.fc("ngIf",e.types&&e.brands),o.zb(2),o.fc("ngIf",e.products))},directives:[c.m,c.l,u.l,u.p,c.k,l,f,P],styles:[""]}),t})();var C=n("tc9g");function O(t,e){if(1&t){const t=o.Rb();o.Qb(0,"div",1),o.Qb(1,"div",2),o.Lb(2,"img",3),o.Pb(),o.Qb(3,"div",2),o.Qb(4,"h2"),o.yc(5),o.Pb(),o.Qb(6,"p"),o.yc(7),o.ac(8,"currency"),o.Pb(),o.Qb(9,"div",4),o.Qb(10,"i",5),o.Xb("click",(function(){return o.pc(t),o.Zb().decrementQuantity()})),o.Pb(),o.Qb(11,"span",6),o.yc(12),o.Pb(),o.Qb(13,"i",7),o.Xb("click",(function(){return o.pc(t),o.Zb().incrementQuantity()})),o.Pb(),o.Qb(14,"button",8),o.Xb("click",(function(){return o.pc(t),o.Zb().addItemToBasket()})),o.yc(15,"Add to Cart"),o.Pb(),o.Pb(),o.Pb(),o.Qb(16,"div",9),o.Qb(17,"div",10),o.Qb(18,"h3"),o.yc(19,"Description"),o.Pb(),o.Qb(20,"p"),o.yc(21),o.Pb(),o.Pb(),o.Pb(),o.Pb()}if(2&t){const t=o.Zb();o.zb(2),o.gc("src",t.product.pictureUrl,o.rc),o.gc("alt",t.product.name),o.zb(3),o.zc(t.product.name),o.zb(2),o.Ac(" ",o.bc(8,6,t.product.price),""),o.zb(5),o.zc(t.quantity),o.zb(9),o.zc(t.product.description)}}const T=[{path:"",component:k},{path:":id",component:(()=>{class t{constructor(t,e,n,c){this.shopService=t,this.activatedRoute=e,this.bcService=n,this.basketService=c,this.quantity=1}ngOnInit(){this.getProduct()}getProduct(){const t=+this.activatedRoute.snapshot.paramMap.get("id");this.shopService.getProduct(t).subscribe(t=>{this.bcService.set("@productDetails",t.name),this.product=t})}incrementQuantity(){this.quantity++}decrementQuantity(){this.quantity>1&&this.quantity--}addItemToBasket(){this.basketService.AddItemToBasket(this.product,this.quantity)}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(b),o.Kb(i.a),o.Kb(C.c),o.Kb(m.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-product-details"]],decls:1,vars:1,consts:[["class","row  ",4,"ngIf"],[1,"row"],[1,"col-6"],[1,"w-50","img-fluid",3,"src","alt"],[1,"d-flex","justify-content-start","align-items-center"],[1,"fa","fa-minus-circle","text-warning","mr-2",2,"cursor","pointer","font-size","1.2em",3,"click"],[1,"mx-2","text-dark",2,"font-size","1.2em"],[1,"fa","fa-plus-circle","text-warning","mx-2",2,"cursor","pointer","font-size","1.2em",3,"click"],["type","button",1,"btn","btn-outline-primary","btn-lg","ml-4",3,"click"],[1,"row","mt-5"],[1,"col-12","ml-3"]],template:function(t,e){1&t&&o.wc(0,O,22,8,"div",0),2&t&&o.fc("ngIf",e.product)},directives:[c.m],pipes:[c.d],styles:[".w-50[_ngcontent-%COMP%]{width:50%}"]}),t})(),data:{breadcrumb:{alias:"productDetails"}}}];let M=(()=>{class t{}return t.\u0275mod=o.Ib({type:t}),t.\u0275inj=o.Hb({factory:function(e){return new(e||t)},imports:[[i.g.forChild(T)],i.g]}),t})(),X=(()=>{class t{}return t.\u0275mod=o.Ib({type:t}),t.\u0275inj=o.Hb({factory:function(e){return new(e||t)},imports:[[c.c,r.a,M]]}),t})()}}]);